
<ion-view  view-title="Timmer"   cache-view="false" >
<ion-pane>
  <ion-header-bar class="bar-light">
    <h1 class="title">Timer</h1>
  </ion-header-bar>

  <ion-content class="padding"  >

    <span ng-show="initicier" class="button button-outline button-positive button-block icon ion-ios-timer-outline button-rounded" ng-click="initial()">&nbsp;Initialiser</span>

    <div  ng-show="recommencer" >
        <span  class="button button-outline button-positive button-block icon ion-ios-timer-outline button-rounded" ng-show="idConfig!=null"  ng-click="continuer() ">&nbsp;Continuer</span>
        <span class="button button-outline button-positive button-block icon ion-ios-timer-outline button-rounded" ng-click="Recommencer()">&nbsp;Commencer</span>
    </div>

    <div ng-show="idConfig==0">
      <label class="item item-input">
        <span class="input-label">Date DÃ©but</span>
        <input type="datetime" ng-model="datestart"   >
      </label>
      <label class="item item-input">
        <span class="input-label">Date Fin</span>
        <input type="datetime" ng-model="datefin"  >
      </label>
      <label class="item item-input">
        <span class="input-label">Cadence (s)</span>
        <input type="number" ng-model="cadence" value="1">
      </label>

      <ion-checkbox ng-repeat="item in Jours"
                    ng-model="item.checked"
                    ng-checked="item.checked">
        {{ item.text }}
      </ion-checkbox>
      <span class="button button-outline button-positive button-block icon ion-ios-timer-outline button-rounded" ng-click="enregistrer(datefin,datestart,cadence,Jours)">&nbsp;entrer</span>
    </div>
  </ion-content>
</ion-pane>
</ion-view>


<!-- Here you have the modal that opens once a timer is selected -->

<script id="templates/timer.html" type="text/ng-template">
  <ion-modal-view>
    <ion-header-bar class="bar bar-header bar-light">
      <h1 class="title">Timer</h1>
      <button class="button button-clear button-primary" ng-click="modal.hide();">Cancel</button>
    </ion-header-bar>
    <ion-content class="padding">

      <!-- Here you have the timer itself with the progress and the time on the middle, notice the css addded to align it see style.css -->
      <div class="progress-wrapper">
        <div class="progress">
          {{humanizeDurationTimer(timer,'s')}}
        </div>
        <div round-progress max="timeForTimer" current="timer" clockwise="false" color="#ef473a" rounded="true" class="text-center"></div>


      </div>

      <div  class="text-center">

        <div class="text-center">
          <br>
          <h2>{{datestart|date:'EEEE, dd-MM-yy HH:mm:ss'}}</h2>
        </div>

      </div>

      <div ng-if="done" class="text-center">
        <div class="row">
          <button class="button button-outline button-balanced button-rounded button-block" ng-click="modal.hide();">
            Done
          </button>
        </div>
        <div class="text-center">
          <i class="ion-ribbon-b bigIcon" style="font-size: 40px;"></i>
          <br>
          <h2>Congratulations</h2>
        </div>
      </div>
    </ion-content>
  </ion-modal-view>
</script>
